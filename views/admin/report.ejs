<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Report</title>
    <link rel="stylesheet" href="/style.css">
    <style>
        body {
            width: 1000px;
            height: auto;
        }

        .width {
            width: 900px;
        }

        .height {

            height: auto;
        }

        .grid {
            display: grid;
            place-items: center;
        }

        .border-normal {
            border: 1px solid black;
        }

        .text-align {
            text-align: center;
        }

        .flex {
            display: flex;
        }

        .justify-between {
            justify-content: space-between;
        }

        .address {
            margin-left: 15px;
        }

        .address p {
            margin: 3px;
        }

        .sales-table .r-row {
            margin-left: 40px;
            border-collapse: collapse;
        }

        .sales-table {
            border-collapse: collapse;
            width: 100%;
        }
    </style>
</head>

<body>
    <div class="grid height">
        <div class="border-normal width">
            <h2 class="text-align">Sales Report</h2>
            <div class="flex justify-between">
                <div class="address ">
                    <h3>BoyZ</h3>
                    <p>Street Address</p>
                    <p>City State Zip Code</p>
                    <p>Phone Website email address</p>
                </div>
                <div>
                    <h4 class="r-row">Date: <% var expiryDate=new Date(salesData.date); var
                            formattedExpiry=expiryDate.toLocaleDateString("en-US", { month: "long" , day: "numeric" ,
                            year: "numeric" }); %>

                            <%= formattedExpiry %>
                    </h4>
                    <h4 class="r-row">Total Amount: &#8377;<%= salesData.totalAmount %>
                    </h4>
                    <h4 class="r-row">Total Orders: <%= salesData.totalOrder %>
                    </h4>
                </div>
            </div>
            <hr>
            <table class=" sales-table">


                <tr>
                    <th>Order No</th>
                    <th>Total Amount</th>
                    <th>Discount</th>
                    <th>Payment Method</th>
                </tr>

                <% orders.forEach((element,index)=> {%>
                    <tr class="border-normal">

                        <td class="border-normal text-align">
                            <%= element.orderNo %>
                        </td>
                        <td class="border-normal text-align">
                            &#8377;<%= element.totalAmount %>
                        </td>
                        <td class="border-normal text-align">
                            &#8377;<%= Math.abs(element.coupon.discount)||0 %>
                        </td>
                        <td class="border-normal text-align">
                            <%= element.paymentMethode %>
                        </td>
                    </tr>
                    <% }); %>
            </table>

            <p>Signed By:</p>
        </div>
    </div>

</body>

</html>